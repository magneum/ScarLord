from sideloader import *
from SÆˆÎ±É¾LÏƒÉ¾Ôƒ import dispatcher
from ğš‚ğš”ğ™°ğš›ğš‚.TURNOFF import DisableAbleCommandHandler


normiefont = [
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z",
]
weebyfont = [
    "å‚",
    "ä¹ƒ",
    "åŒš",
    "åˆ€",
    "ä¹‡",
    "ä¸‹",
    "å¶",
    "å„",
    "å·¥",
    "ä¸",
    "é•¿",
    "ä¹š",
    "ä»",
    "ğ ˜¨",
    "å£",
    "å°¸",
    "ã”¿",
    "å°º",
    "ä¸‚",
    "ä¸…",
    "å‡µ",
    "ãƒª",
    "å±±",
    "ä¹‚",
    "ä¸«",
    "ä¹™",
]


def weebify(update: Update, context: CallbackContext):
    args = context.args
    message = update.effective_message
    string = ""

    if message.reply_to_message:
        string = message.reply_to_message.text.lower().replace(" ", "  ")

    if args:
        string = "  ".join(args).lower()

    if not string:
        message.reply_text("Usage is `/weebify <text>`", parse_mode=ParseMode.MARKDOWN)
        return

    for normiecharacter in string:
        if normiecharacter in normiefont:
            weebycharacter = weebyfont[normiefont.index(normiecharacter)]
            string = string.replace(normiecharacter, weebycharacter)

    if message.reply_to_message:
        message.reply_to_message.reply_text(string)
    else:
        message.reply_text(string)


WEEBIFY_HANDLER = DisableAbleCommandHandler("weebify", weebify, run_async=True)

dispatcher.add_handler(WEEBIFY_HANDLER)

__command_list__ = ["weebify"]
__handlers__ = [WEEBIFY_HANDLER]
